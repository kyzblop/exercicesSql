Exercices SQL

Prérequis : Créer une base de données (ici : "lpecom_bdd"), importer les données et l'utiliser (requête : use lpecom_bdd;)

Partie 1/
	Exercice 1
Quelle requête utiliser pour afficher l'ensemble des enregistrements de la table lpecom_livres ?

- Requêtes à saisir :
select * from lpecom_livres;

- Resultat :
MariaDB [lpecom_bdd]> select * from lpecom_livres;
+----------+------------------------------+------------+-------------------------+------+
| id_livre | titre                        | isbn_10    | auteur                  | prix |
+----------+------------------------------+------------+-------------------------+------+
|        1 | Forteresse digitale          | 2709626306 | Dan Brown               | 20.5 |
|        2 | La jeune fille et la nuit     | 2253237620 | Guillaume Musso         | 21.9 |
|        3 | T'choupi se brosse les dents | 2092589547 | Thierry Courtin         |  5.7 |
|        4 | La Derni├¿re Chasse           | 2226439412 | Jean-Christophe Grang├®  | 22.9 |
|        5 | Le Signal                    | 2226319484 | Maxime Chattam          | 23.9 |
+----------+------------------------------+------------+-------------------------+------+



	Exercice 2
Quelle requête utiliser pour sélectionner uniquement les livres qui ont un prix strictement supérieur à
20 dans la table lpecom_livres ?

- Requêtes à saisir :
select * from lpecom_livres where prix >20;

- Resultat :
MariaDB [lpecom_bdd]> select * from lpecom_livres where prix >20;
+----------+----------------------------+------------+-------------------------+------+
| id_livre | titre                      | isbn_10    | auteur                  | prix |
+----------+----------------------------+------------+-------------------------+------+
|        1 | Forteresse digitale        | 2709626306 | Dan Brown               | 20.5 |
|        2 | La jeune fille et la nuit   | 2253237620 | Guillaume Musso         | 21.9 |
|        4 | La Derni├¿re Chasse         | 2226439412 | Jean-Christophe Grang├®  | 22.9 |
|        5 | Le Signal                  | 2226319484 | Maxime Chattam          | 23.9 |
+----------+----------------------------+------------+-------------------------+------+



	Exercice 3
Quelle requête utiliser pour trier les enregistrements de la table lpecom_livres du prix le plus élevé
au prix le plus bas ?

- Requête à saisir :
select * from lpecom_livres order by prix desc;

- Resultat :
MariaDB [lpecom_bdd]> select * from lpecom_livres order by prix desc;
+----------+------------------------------+------------+-------------------------+------+
| id_livre | titre                        | isbn_10    | auteur                  | prix |
+----------+------------------------------+------------+-------------------------+------+
|        5 | Le Signal                    | 2226319484 | Maxime Chattam          | 23.9 |
|        4 | La Derni├¿re Chasse           | 2226439412 | Jean-Christophe Grang├®  | 22.9 |
|        2 | La jeune fille et la nuit     | 2253237620 | Guillaume Musso         | 21.9 |
|        1 | Forteresse digitale          | 2709626306 | Dan Brown               | 20.5 |
|        3 | T'choupi se brosse les dents | 2092589547 | Thierry Courtin         |  5.7 |
+----------+------------------------------+------------+-------------------------+------+



	Exercice 4
Quelle requête utiliser pour récupérer le prix du livre le plus élevé de la table lpecom_livres ?

- Requête à saisir :
select max(prix) from lpecom_livres;

- Resultat :
MariaDB [lpecom_bdd]> select max(prix) from lpecom_livres;
+-----------+
| max(prix) |
+-----------+
|      23.9 |
+-----------+


	Exercice 5
Quelle requête utiliser pour récupérer les livres de la table lpecom_livres qui ont un prix compris
entre 20 et 22 ?

- Requête à saisir :
select * from lpecom_livres where prix between 20 and 22;

- Resultat :
MariaDB [lpecom_bdd]> select * from lpecom_livres where prix between 20 and 22;
+----------+----------------------------+------------+-----------------+------+
| id_livre | titre                      | isbn_10    | auteur          | prix |
+----------+----------------------------+------------+-----------------+------+
|        1 | Forteresse digitale        | 2709626306 | Dan Brown       | 20.5 |
|        2 | La jeune fille et la nuit   | 2253237620 | Guillaume Musso | 21.9 |
+----------+----------------------------+------------+-----------------+------+



	Exercice 6
Quelle requête utiliser pour récupérer tous les livres de la table lpecom_livres à l'exception de celui
portant la valeur pour la colonne isbn_10 : 2092589547 ?

- Requête à saisir :
select * from lpecom_livres where not isbn_10 =2092589547;

- Resultat :
MariaDB [lpecom_bdd]> select * from lpecom_livres where not isbn_10 =2092589547;
+----------+----------------------------+------------+-------------------------+------+
| id_livre | titre                      | isbn_10    | auteur                  | prix |
+----------+----------------------------+------------+-------------------------+------+
|        1 | Forteresse digitale        | 2709626306 | Dan Brown               | 20.5 |
|        2 | La jeune fille et la nuit   | 2253237620 | Guillaume Musso         | 21.9 |
|        4 | La Derni├¿re Chasse         | 2226439412 | Jean-Christophe Grang├®  | 22.9 |
|        5 | Le Signal                  | 2226319484 | Maxime Chattam          | 23.9 |
+----------+----------------------------+------------+-------------------------+------+



	Exercice 7
Quelle requête utiliser pour récupérer le prix du livre le moins élevé de la table lpecom_livres en
renommant la colonne dans les résultats par minus ?

- Requête à saisir :
select min(prix) as minus from lpecom_livres;

- Resultat :
MariaDB [lpecom_bdd]> select min(prix) as minus from lpecom_livres;
+-------+
| minus |
+-------+
|   5.7 |
+-------+



	Exercice 8
Quelle requête utiliser pour sélectionner uniquement les 3 premiers résultats sans le tout premier de
la table lpecom_livres ?

- Requête à saisir :
select * from lpecom_livres limit 3 offset 1;

- Resultat :
MariaDB [lpecom_bdd]> select * from lpecom_livres limit 3 offset 1;
+----------+------------------------------+------------+-------------------------+------+
| id_livre | titre                        | isbn_10    | auteur                  | prix |
+----------+------------------------------+------------+-------------------------+------+
|        2 | La jeune fille et la nuit     | 2253237620 | Guillaume Musso         | 21.9 |
|        3 | T'choupi se brosse les dents | 2092589547 | Thierry Courtin         |  5.7 |
|        4 | La Derni├¿re Chasse           | 2226439412 | Jean-Christophe Grang├®  | 22.9 |
+----------+------------------------------+------------+-------------------------+------+



Partie 2/
	Exercice 1
Quelle requête utiliser pour afficher l'id des étudiants qui ont participé à au moins un examen ?

- Requête à saisir :
select distinct id_etudiant from lpecom_examens;

- Resultat :
MariaDB [lpecom_bdd]> select distinct id_etudiant from lpecom_examens;
+-------------+
| id_etudiant |
+-------------+
|          30 |
|          33 |
|          34 |
|          31 |
|          32 |
|          36 |
+-------------+



	Exercice 2
Quelle requête utiliser pour compter le nombre d'étudiants qui ont participé à au moins un examen ?

- Requête à saisir :
select count(distinct id_etudiant) from lpecom_examens;

- Resultat :
MariaDB [lpecom_bdd]> select count(distinct id_etudiant) from lpecom_examens;
+-----------------------------+
| count(distinct id_etudiant) |
+-----------------------------+
|                           6 |
+-----------------------------+



	Exercice 3
Quelle requête utiliser pour calculer la moyenne de l'examen portant l'id : 45 ?

- Requête à saisir :
select avg(note) from lpecom_examens where id_examen = 45;

- Resultat :
MariaDB [lpecom_bdd]> select avg(note) from lpecom_examens where id_examen = 45;
+-----------+
| avg(note) |
+-----------+
|     12.25 |
+-----------+



	Exercice 4
Quelle requête utiliser pour récupérer la meilleure note de l'examen portant l'id : 87 ?

- Requête à saisir :
select max(note) from lpecom_examens where id_examen = 87;

- Resultat :
MariaDB [lpecom_bdd]> select max(note) from lpecom_examens where id_examen = 87;
+-----------+
| max(note) |
+-----------+
|        14 |
+-----------+



	Exercice 5
Quelle requête utiliser pour afficher l'id des étudiants qui ont eu plus de 11 à l'examen 45 ou plus de
12 à l'examen 87 ?

Requête à saisir :




